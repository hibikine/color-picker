{"version":3,"sources":["node_modules/@jaames/iro/dist/iro.es.js","index.js"],"names":["n","u","t","i","r","o","f","e","c","s","l","a","parentNode","removeChild","h","arguments","length","push","children","defaultProps","key","ref","v","type","props","__k","__p","__b","__e","__c","constructor","vnode","d","y","m","context","w","indexOf","g","base","k","__d","debounceRendering","_","sort","__v","pop","__P","$","__n","ownerSVGElement","j","b","p","x","appendChild","nextSibling","insertBefore","value","D","A","Array","isArray","C","N","P","setProperty","test","style","cssText","replace","toLowerCase","slice","addEventListener","T","removeEventListener","removeAttributeNS","setAttributeNS","removeAttribute","setAttribute","event","contextType","__E","prototype","render","H","sub","state","__h","__s","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","__r","getChildContext","getSnapshotBeforeUpdate","call","componentDidUpdate","z","diffed","nodeType","localName","document","createTextNode","createElementNS","createElement","data","childNodes","dangerouslySetInnerHTML","__html","innerHTML","checked","current","unmount","componentWillUnmount","I","setState","forceUpdate","Promise","then","bind","resolve","setTimeout","getDerivedStateFromError","componentDidCatch","CSS_INTEGER","CSS_NUMBER","CSS_UNIT","PERMISSIVE_MATCH_3","PERMISSIVE_MATCH_4","REGEX_FUNCTIONAL_RGB","RegExp","REGEX_FUNCTIONAL_RGBA","REGEX_FUNCTIONAL_HSL","REGEX_FUNCTIONAL_HSLA","HEX_START","HEX_INT_SINGLE","HEX_INT_DOUBLE","REGEX_HEX_3","REGEX_HEX_4","REGEX_HEX_6","REGEX_HEX_8","KELVIN_MIN","KELVIN_MAX","log","Math","round","floor","parseUnit","str","max","isPercentage","num","parseFloat","parseHexInt","parseInt","intToHex","int","toString","padStart","IroColor","onChange","set","initialValue","Object","assign","prototypeAccessors","hsv","configurable","hsva","hue","saturation","alpha","kelvin","rgb","rgba","hsl","hsla","rgbString","rgbaString","hexString","hex8String","hslString","hslaString","Error","setChannel","format","channel","obj","reset","clone","unbind","undefined","hsvToRgb","q","mod","rgbToHsv","min","delta","hsvToHsl","divisor","hslToHsv","kelvinToRgb","temp","rgbToKelvin","eps","minTemp","maxTemp","rgb$1","get","newValue","oldValue","changes","match","exec","defineProperties","sliderDefaultOptions","sliderShape","sliderType","minTemperature","maxTemperature","getSliderDimensions","width","sliderSize","borderWidth","handleRadius","padding","ishorizontal","layoutDirection","handleStart","handleRange","height","cx","cy","radius","getCurrentSliderValue","color","temperatureRange","percent","getSliderValueFromInput","handlePos","getSliderHandlePosition","sliderValue","midPoint","getSliderGradient","stops","numStops","range","stop","noSat","fullSat","getSliderGradientCoords","x1","y1","x2","y2","getWheelDimensions","rad","translateWheelAngle","angle","invert","wheelAngle","wheelDirection","getWheelHandlePosition","handleAngle","PI","handleDist","direction","cos","sin","getWheelValueFromInput","atan2","sqrt","getBoxDimensions","getBoxValueFromInput","handleRangeX","handleRangeY","percentX","percentY","getBoxHandlePosition","getBoxGradients","BASE_ELEMENTS","getElementsByTagName","resolveSvgUrl","url","ua","window","navigator","userAgent","isSafari","isIos","location","protocol","host","pathname","search","getSvgArcPath","startAngle","endAngle","largeArcFlag","getHandleAtPoint","handlePositions","dX","dY","dist","iroColorPickerOptionDefaults","handleSvg","handleProps","colors","borderColor","wheelLightness","sliderMargin","SECONDARY_EVENTS","IroComponentBase","Component","uid","random","substring","__proto__","create","eventHandler","handleEvent","rootProps","onMouseDown","onTouchStart","isHorizontal","margin","rootStyles","overflow","display","index","this$1","inputHandler","onInput","bounds","getBoundingClientRect","preventDefault","point","touches","changedTouches","clientX","left","clientY","top","forEach","passive","IroHandle","className","isActive","xlinkHref","fill","stroke","IroSlider","activeColor","gradient","isAlpha","handleInput","parent","inputActive","id","map","offset","patternUnits","rx","ry","IroBox","colorPicker","gradients","inputType","activeHandle","setActiveColor","filter","HUE_STEPS","apply","IroWheel","opacity","createWidget","WidgetComponent","widgetFactory","widget","widgetRoot","mountWidget","container","Element","querySelector","onMount","readyState","__component","IroColorPicker","events","activeEvents","deferredEvents","colorValue","addColor","layout","newColor","onColorChange","splice","deferredEmit","removeColor","emit","setColors","newColorValues","on","eventList","callback","eventType","args","off","callbackList","len","isEventActive","hasOwnProperty","fn","concat","setOptions","newOptions","resize","el","emitInputEvent","component","transparency","options","class","componentIndex","UiComponent","IroColorPickerWidget","iro","version","Color","ColorPicker","ui","ComponentBase","Handle","Slider","Wheel","Box","iro$1","console","getElementById"],"mappings":"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","file":"color-picker.e31bb0bc.js","sourceRoot":"..","sourcesContent":["/*!\n * iro.js v5.1.8\n * 2016-2020 James Daniel\n * Licensed under MPL 2.0\n * github.com/jaames/iro.js\n */\n\nvar n,u,t,i,r,o,f={},e=[],c=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i;function s(n,l){for(var u in l){ n[u]=l[u]; }return n}function a(n){var l=n.parentNode;l&&l.removeChild(n);}function h(n,l,u){var t,i,r,o,f=arguments;if(l=s({},l),arguments.length>3){ for(u=[u],t=3;t<arguments.length;t++){ u.push(f[t]); } }if(null!=u&&(l.children=u),null!=n&&null!=n.defaultProps){ for(i in n.defaultProps){ void 0===l[i]&&(l[i]=n.defaultProps[i]); } }return o=l.key,null!=(r=l.ref)&&delete l.ref,null!=o&&delete l.key,v(n,l,o,r)}function v(l,u,t,i){var r={type:l,props:u,key:t,ref:i,__k:null,__p:null,__b:0,__e:null,l:null,__c:null,constructor:void 0};return n.vnode&&n.vnode(r),r}function d(n){return n.children}function y(n){if(null==n||\"boolean\"==typeof n){ return null; }if(\"string\"==typeof n||\"number\"==typeof n){ return v(null,n,null,null); }if(null!=n.__e||null!=n.__c){var l=v(n.type,n.props,n.key,null);return l.__e=n.__e,l}return n}function m(n,l){this.props=n,this.context=l;}function w(n,l){if(null==l){ return n.__p?w(n.__p,n.__p.__k.indexOf(n)+1):null; }for(var u;l<n.__k.length;l++){ if(null!=(u=n.__k[l])&&null!=u.__e){ return u.__e; } }return \"function\"==typeof n.type?w(n):null}function g(n){var l,u;if(null!=(n=n.__p)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++){ if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break} }return g(n)}}function k(l){(!l.__d&&(l.__d=!0)&&1===u.push(l)||i!==n.debounceRendering)&&(i=n.debounceRendering,(n.debounceRendering||t)(_));}function _(){var n,l,t,i,r,o,f,e;for(u.sort(function(n,l){return l.__v.__b-n.__v.__b});n=u.pop();){ n.__d&&(t=void 0,i=void 0,o=(r=(l=n).__v).__e,f=l.__P,e=l.u,l.u=!1,f&&(t=[],i=$(f,r,s({},r),l.__n,void 0!==f.ownerSVGElement,null,t,e,null==o?w(r):o),j(t,r),i!=o&&g(r))); }}function b(n,l,u,t,i,r,o,c,s){var h,v,p,d,y,m,g,k=u&&u.__k||e,_=k.length;if(c==f&&(c=null!=r?r[0]:_?w(u,0):null),h=0,l.__k=x(l.__k,function(u){if(null!=u){if(u.__p=l,u.__b=l.__b+1,null===(p=k[h])||p&&u.key==p.key&&u.type===p.type){ k[h]=void 0; }else { for(v=0;v<_;v++){if((p=k[v])&&u.key==p.key&&u.type===p.type){k[v]=void 0;break}p=null;} }if(d=$(n,u,p=p||f,t,i,r,o,null,c,s),(v=u.ref)&&p.ref!=v&&(g||(g=[])).push(v,u.__c||d,u),null!=d){if(null==m&&(m=d),null!=u.l){ d=u.l,u.l=null; }else if(r==p||d!=c||null==d.parentNode){n:if(null==c||c.parentNode!==n){ n.appendChild(d); }else{for(y=c,v=0;(y=y.nextSibling)&&v<_;v+=2){ if(y==d){ break n; } }n.insertBefore(d,c);}\"option\"==l.type&&(n.value=\"\");}c=d.nextSibling,\"function\"==typeof l.type&&(l.l=d);}}return h++,u}),l.__e=m,null!=r&&\"function\"!=typeof l.type){ for(h=r.length;h--;){ null!=r[h]&&a(r[h]); } }for(h=_;h--;){ null!=k[h]&&D(k[h],k[h]); }if(g){ for(h=0;h<g.length;h++){ A(g[h],g[++h],g[++h]); } }}function x(n,l,u){if(null==u&&(u=[]),null==n||\"boolean\"==typeof n){ l&&u.push(l(null)); }else if(Array.isArray(n)){ for(var t=0;t<n.length;t++){ x(n[t],l,u); } }else { u.push(l?l(y(n)):n); }return u}function C(n,l,u,t,i){var r;for(r in u){ r in l||N(n,r,null,u[r],t); }for(r in l){ i&&\"function\"!=typeof l[r]||\"value\"===r||\"checked\"===r||u[r]===l[r]||N(n,r,l[r],u[r],t); }}function P(n,l,u){\"-\"===l[0]?n.setProperty(l,u):n[l]=\"number\"==typeof u&&!1===c.test(l)?u+\"px\":null==u?\"\":u;}function N(n,l,u,t,i){var r,o,f,e,c;if(\"key\"===(l=i?\"className\"===l?\"class\":l:\"class\"===l?\"className\":l)||\"children\"===l);else if(\"style\"===l){ if(r=n.style,\"string\"==typeof u){ r.cssText=u; }else{if(\"string\"==typeof t&&(r.cssText=\"\",t=null),t){ for(o in t){ u&&o in u||P(r,o,\"\"); } }if(u){ for(f in u){ t&&u[f]===t[f]||P(r,f,u[f]); } }} }else{ \"o\"===l[0]&&\"n\"===l[1]?(e=l!==(l=l.replace(/Capture$/,\"\")),c=l.toLowerCase(),l=(c in n?c:l).slice(2),u?(t||n.addEventListener(l,T,e),(n.t||(n.t={}))[l]=u):n.removeEventListener(l,T,e)):\"list\"!==l&&\"tagName\"!==l&&\"form\"!==l&&!i&&l in n?n[l]=null==u?\"\":u:\"function\"!=typeof u&&\"dangerouslySetInnerHTML\"!==l&&(l!==(l=l.replace(/^xlink:?/,\"\"))?null==u||!1===u?n.removeAttributeNS(\"http://www.w3.org/1999/xlink\",l.toLowerCase()):n.setAttributeNS(\"http://www.w3.org/1999/xlink\",l.toLowerCase(),u):null==u||!1===u?n.removeAttribute(l):n.setAttribute(l,u)); }}function T(l){return this.t[l.type](n.event?n.event(l):l)}function $(l,u,t,i,r,o,f,e,c,a){var h,v,p,y,w,g,k,_,C,P,N=u.type;if(void 0!==u.constructor){ return null; }(h=n.__b)&&h(u);try{n:if(\"function\"==typeof N){if(_=u.props,C=(h=N.contextType)&&i[h.__c],P=h?C?C.props.value:h.__p:i,t.__c?k=(v=u.__c=t.__c).__p=v.__E:(\"prototype\"in N&&N.prototype.render?u.__c=v=new N(_,P):(u.__c=v=new m(_,P),v.constructor=N,v.render=H),C&&C.sub(v),v.props=_,v.state||(v.state={}),v.context=P,v.__n=i,p=v.__d=!0,v.__h=[]),null==v.__s&&(v.__s=v.state),null!=N.getDerivedStateFromProps&&s(v.__s==v.state?v.__s=s({},v.__s):v.__s,N.getDerivedStateFromProps(_,v.__s)),p){ null==N.getDerivedStateFromProps&&null!=v.componentWillMount&&v.componentWillMount(),null!=v.componentDidMount&&f.push(v); }else{if(null==N.getDerivedStateFromProps&&null==e&&null!=v.componentWillReceiveProps&&v.componentWillReceiveProps(_,P),!e&&null!=v.shouldComponentUpdate&&!1===v.shouldComponentUpdate(_,v.__s,P)){for(v.props=_,v.state=v.__s,v.__d=!1,v.__v=u,u.__e=null!=c?c!==t.__e?c:t.__e:null,u.__k=t.__k,h=0;h<u.__k.length;h++){ u.__k[h]&&(u.__k[h].__p=u); }break n}null!=v.componentWillUpdate&&v.componentWillUpdate(_,v.__s,P);}for(y=v.props,w=v.state,v.context=P,v.props=_,v.state=v.__s,(h=n.__r)&&h(u),v.__d=!1,v.__v=u,v.__P=l,h=v.render(v.props,v.state,v.context),u.__k=x(null!=h&&h.type==d&&null==h.key?h.props.children:h),null!=v.getChildContext&&(i=s(s({},i),v.getChildContext())),p||null==v.getSnapshotBeforeUpdate||(g=v.getSnapshotBeforeUpdate(y,w)),b(l,u,t,i,r,o,f,c,a),v.base=u.__e;h=v.__h.pop();){ v.__s&&(v.state=v.__s),h.call(v); }p||null==y||null==v.componentDidUpdate||v.componentDidUpdate(y,w,g),k&&(v.__E=v.__p=null);}else { u.__e=z(t.__e,u,t,i,r,o,f,a); }(h=n.diffed)&&h(u);}catch(l){n.__e(l,u,t);}return u.__e}function j(l,u){for(var t;t=l.pop();){ try{t.componentDidMount();}catch(l){n.__e(l,t.__v);} }n.__c&&n.__c(u);}function z(n,l,u,t,i,r,o,c){var s,a,h,v,p=u.props,d=l.props;if(i=\"svg\"===l.type||i,null==n&&null!=r){ for(s=0;s<r.length;s++){ if(null!=(a=r[s])&&(null===l.type?3===a.nodeType:a.localName===l.type)){n=a,r[s]=null;break} } }if(null==n){if(null===l.type){ return document.createTextNode(d); }n=i?document.createElementNS(\"http://www.w3.org/2000/svg\",l.type):document.createElement(l.type),r=null;}return null===l.type?p!==d&&(null!=r&&(r[r.indexOf(n)]=null),n.data=d):l!==u&&(null!=r&&(r=e.slice.call(n.childNodes)),h=(p=u.props||f).dangerouslySetInnerHTML,v=d.dangerouslySetInnerHTML,c||(v||h)&&(v&&h&&v.__html==h.__html||(n.innerHTML=v&&v.__html||\"\")),C(n,d,p,i,c),l.__k=l.props.children,v||b(n,l,u,t,\"foreignObject\"!==l.type&&i,r,o,f,c),c||(\"value\"in d&&void 0!==d.value&&d.value!==n.value&&(n.value=null==d.value?\"\":d.value),\"checked\"in d&&void 0!==d.checked&&d.checked!==n.checked&&(n.checked=d.checked))),n}function A(l,u,t){try{\"function\"==typeof l?l(u):l.current=u;}catch(l){n.__e(l,t);}}function D(l,u,t){var i,r,o;if(n.unmount&&n.unmount(l),(i=l.ref)&&A(i,null,u),t||\"function\"==typeof l.type||(t=null!=(r=l.__e)),l.__e=l.l=null,null!=(i=l.__c)){if(i.componentWillUnmount){ try{i.componentWillUnmount();}catch(l){n.__e(l,u);} }i.base=i.__P=null;}if(i=l.__k){ for(o=0;o<i.length;o++){ i[o]&&D(i[o],u,t); } }null!=r&&a(r);}function H(n,l,u){return this.constructor(n,u)}function I(l,u,t){var i,o,c;n.__p&&n.__p(l,u),o=(i=t===r)?null:t&&t.__k||u.__k,l=h(d,null,[l]),c=[],$(u,i?u.__k=l:(t||u).__k=l,o||f,f,void 0!==u.ownerSVGElement,t&&!i?[t]:o?null:e.slice.call(u.childNodes),c,!1,t||f,i),j(c,l);}n={},m.prototype.setState=function(n,l){var u=this.__s!==this.state&&this.__s||(this.__s=s({},this.state));(\"function\"!=typeof n||(n=n(u,this.props)))&&s(u,n),null!=n&&this.__v&&(this.u=!1,l&&this.__h.push(l),k(this));},m.prototype.forceUpdate=function(n){this.__v&&(n&&this.__h.push(n),this.u=!0,k(this));},m.prototype.render=d,u=[],t=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,i=n.debounceRendering,n.__e=function(n,l,u){for(var t;l=l.__p;){ if((t=l.__c)&&!t.__p){ try{if(t.constructor&&null!=t.constructor.getDerivedStateFromError){ t.setState(t.constructor.getDerivedStateFromError(n)); }else{if(null==t.componentDidCatch){ continue; }t.componentDidCatch(n);}return k(t.__E=t)}catch(l){n=l;} } }throw n},r=f,o=0;\n\n// Some regular expressions for rgb() and hsl() Colors are borrowed from tinyColor\n// https://github.com/bgrins/TinyColor\n// Kelvin temperature math borrowed from Neil Barlett's implementation\n// from https://github.com/neilbartlett/color-temperature\n// https://www.w3.org/TR/css3-values/#integers\nvar CSS_INTEGER = '[-\\\\+]?\\\\d+%?'; // http://www.w3.org/TR/css3-values/#number-value\n\nvar CSS_NUMBER = '[-\\\\+]?\\\\d*\\\\.\\\\d+%?'; // Allow positive/negative integer/number. Don't capture the either/or, just the entire outcome\n\nvar CSS_UNIT = '(?:' + CSS_NUMBER + ')|(?:' + CSS_INTEGER + ')'; // Parse function params\n// Parens and commas are optional, and this also allows for whitespace between numbers\n\nvar PERMISSIVE_MATCH_3 = '[\\\\s|\\\\(]+(' + CSS_UNIT + ')[,|\\\\s]+(' + CSS_UNIT + ')[,|\\\\s]+(' + CSS_UNIT + ')\\\\s*\\\\)?';\nvar PERMISSIVE_MATCH_4 = '[\\\\s|\\\\(]+(' + CSS_UNIT + ')[,|\\\\s]+(' + CSS_UNIT + ')[,|\\\\s]+(' + CSS_UNIT + ')[,|\\\\s]+(' + CSS_UNIT + ')\\\\s*\\\\)?'; // Regex patterns for functional color strings\n\nvar REGEX_FUNCTIONAL_RGB = new RegExp('rgb' + PERMISSIVE_MATCH_3);\nvar REGEX_FUNCTIONAL_RGBA = new RegExp('rgba' + PERMISSIVE_MATCH_4);\nvar REGEX_FUNCTIONAL_HSL = new RegExp('hsl' + PERMISSIVE_MATCH_3);\nvar REGEX_FUNCTIONAL_HSLA = new RegExp('hsla' + PERMISSIVE_MATCH_4); // Color string parsing regex\n\nvar HEX_START = '^(?:#?|0x?)';\nvar HEX_INT_SINGLE = '([0-9a-fA-F]{1})';\nvar HEX_INT_DOUBLE = '([0-9a-fA-F]{2})';\nvar REGEX_HEX_3 = new RegExp(HEX_START + HEX_INT_SINGLE + HEX_INT_SINGLE + HEX_INT_SINGLE + '$');\nvar REGEX_HEX_4 = new RegExp(HEX_START + HEX_INT_SINGLE + HEX_INT_SINGLE + HEX_INT_SINGLE + HEX_INT_SINGLE + '$');\nvar REGEX_HEX_6 = new RegExp(HEX_START + HEX_INT_DOUBLE + HEX_INT_DOUBLE + HEX_INT_DOUBLE + '$');\nvar REGEX_HEX_8 = new RegExp(HEX_START + HEX_INT_DOUBLE + HEX_INT_DOUBLE + HEX_INT_DOUBLE + HEX_INT_DOUBLE + '$'); // Kelvin temperature bounds\n\nvar KELVIN_MIN = 1000;\nvar KELVIN_MAX = 40000; // Math shorthands\n\nvar log = Math.log;\nvar round = Math.round;\nvar floor = Math.floor;\n/**\r\n * @desc Parse a css unit string - either regular int or a percentage number\r\n * @param str - css unit string\r\n * @param max - max unit value, used for calculating percentages\r\n */\n\nfunction parseUnit(str, max) {\n  var isPercentage = str.indexOf('%') > -1;\n  var num = parseFloat(str);\n  return isPercentage ? max / 100 * num : num;\n}\n/**\r\n * @desc Parse hex str to an int\r\n * @param str - hex string to parse\r\n */\n\n\nfunction parseHexInt(str) {\n  return parseInt(str, 16);\n}\n/**\r\n * @desc Convert nunber into to 2-digit hex\r\n * @param int - number to convert\r\n */\n\n\nfunction intToHex(int) {\n  return int.toString(16).padStart(2, '0');\n}\n\nvar IroColor = function IroColor(value, onChange) {\n  // The default Color value\n  this.$ = {\n    h: 0,\n    s: 0,\n    v: 0,\n    a: 1\n  };\n  if (value) { this.set(value); } // The watch callback function for this Color will be stored here\n\n  this.onChange = onChange;\n  this.initialValue = Object.assign({}, this.$); // copy initial value\n};\n\nvar prototypeAccessors = { hsv: { configurable: true },hsva: { configurable: true },hue: { configurable: true },saturation: { configurable: true },value: { configurable: true },alpha: { configurable: true },kelvin: { configurable: true },rgb: { configurable: true },rgba: { configurable: true },hsl: { configurable: true },hsla: { configurable: true },rgbString: { configurable: true },rgbaString: { configurable: true },hexString: { configurable: true },hex8String: { configurable: true },hslString: { configurable: true },hslaString: { configurable: true } };\n/**\r\n  * @desc Set the Color from any valid value\r\n  * @param value - new color value\r\n*/\n\n\nIroColor.prototype.set = function set (value) {\n  if (typeof value === 'string') {\n    if (/^(?:#?|0x?)[0-9a-fA-F]{3,8}$/.test(value)) {\n      this.hexString = value;\n    } else if (/^rgba?/.test(value)) {\n      this.rgbString = value;\n    } else if (/^hsla?/.test(value)) {\n      this.hslString = value;\n    }\n  } else if (typeof value === 'object') {\n    if (value instanceof IroColor) {\n      this.hsv = value.hsv;\n    } else if (typeof value === 'object' && 'r' in value && 'g' in value && 'b' in value) {\n      this.rgb = value;\n    } else if (typeof value === 'object' && 'h' in value && 's' in value && 'v' in value) {\n      this.hsv = value;\n    } else if (typeof value === 'object' && 'h' in value && 's' in value && 'l' in value) {\n      this.hsl = value;\n    }\n  } else {\n    throw new Error('Invalid color value');\n  }\n};\n/**\r\n  * @desc Shortcut to set a specific channel value\r\n  * @param format - hsv | hsl | rgb\r\n  * @param channel - individual channel to set, for example if model = hsl, chanel = h | s | l\r\n  * @param value - new value for the channel\r\n*/\n\n\nIroColor.prototype.setChannel = function setChannel (format, channel, value) {\n    var obj;\n\n  this[format] = Object.assign({}, this[format],\n    ( obj = {}, obj[channel] = value, obj ));\n};\n/**\r\n * @desc Reset color back to its initial value\r\n */\n\n\nIroColor.prototype.reset = function reset () {\n  this.hsva = this.initialValue;\n};\n/**\r\n  * @desc make new Color instance with the same value as this one\r\n*/\n\n\nIroColor.prototype.clone = function clone () {\n  return new IroColor(this);\n};\n/**\r\n * @desc remove color onChange\r\n */\n\n\nIroColor.prototype.unbind = function unbind () {\n  this.onChange = undefined;\n};\n/**\r\n  * @desc Convert hsv object to rgb\r\n  * @param hsv - hsv color object\r\n*/\n\n\nIroColor.hsvToRgb = function hsvToRgb (hsv) {\n  var h = hsv.h / 60;\n  var s = hsv.s / 100;\n  var v = hsv.v / 100;\n  var i = floor(h);\n  var f = h - i;\n  var p = v * (1 - s);\n  var q = v * (1 - f * s);\n  var t = v * (1 - (1 - f) * s);\n  var mod = i % 6;\n  var r = [v, q, p, p, t, v][mod];\n  var g = [t, v, v, q, p, p][mod];\n  var b = [p, p, t, v, v, q][mod];\n  return {\n    r: r * 255,\n    g: g * 255,\n    b: b * 255\n  };\n};\n/**\r\n  * @desc Convert rgb object to hsv\r\n  * @param rgb - rgb object\r\n*/\n\n\nIroColor.rgbToHsv = function rgbToHsv (rgb) {\n  var r = rgb.r / 255;\n  var g = rgb.g / 255;\n  var b = rgb.b / 255;\n  var max = Math.max(r, g, b);\n  var min = Math.min(r, g, b);\n  var delta = max - min;\n  var hue = 0;\n  var value = max;\n  var saturation = max === 0 ? 0 : delta / max;\n\n  switch (max) {\n    case min:\n      hue = 0; // achromatic\n\n      break;\n\n    case r:\n      hue = (g - b) / delta + (g < b ? 6 : 0);\n      break;\n\n    case g:\n      hue = (b - r) / delta + 2;\n      break;\n\n    case b:\n      hue = (r - g) / delta + 4;\n      break;\n  }\n\n  return {\n    h: hue * 60,\n    s: saturation * 100,\n    v: value * 100\n  };\n};\n/**\r\n  * @desc Convert hsv object to hsl\r\n  * @param hsv - hsv object\r\n*/\n\n\nIroColor.hsvToHsl = function hsvToHsl (hsv) {\n  var s = hsv.s / 100;\n  var v = hsv.v / 100;\n  var l = (2 - s) * v;\n  var divisor = l <= 1 ? l : 2 - l; // Avoid division by zero when lightness is close to zero\n\n  var saturation = divisor < 1e-9 ? 0 : s * v / divisor;\n  return {\n    h: hsv.h,\n    s: saturation * 100,\n    l: l * 50\n  };\n};\n/**\r\n  * @desc Convert hsl object to hsv\r\n  * @param hsl - hsl object\r\n*/\n\n\nIroColor.hslToHsv = function hslToHsv (hsl) {\n  var l = hsl.l * 2;\n  var s = hsl.s * (l <= 100 ? l : 200 - l) / 100; // Avoid division by zero when l + s is near 0\n\n  var saturation = l + s < 1e-9 ? 0 : 2 * s / (l + s);\n  return {\n    h: hsl.h,\n    s: saturation * 100,\n    v: (l + s) / 2\n  };\n};\n/**\r\n  * @desc Convert a kelvin temperature to an approx, RGB value\r\n  * @param kelvin - kelvin temperature\r\n*/\n\n\nIroColor.kelvinToRgb = function kelvinToRgb (kelvin) {\n  var temp = kelvin / 100;\n  var r, g, b;\n\n  if (temp < 66) {\n    r = 255;\n    g = -155.25485562709179 - 0.44596950469579133 * (g = temp - 2) + 104.49216199393888 * log(g);\n    b = temp < 20 ? 0 : -254.76935184120902 + 0.8274096064007395 * (b = temp - 10) + 115.67994401066147 * log(b);\n  } else {\n    r = 351.97690566805693 + 0.114206453784165 * (r = temp - 55) - 40.25366309332127 * log(r);\n    g = 325.4494125711974 + 0.07943456536662342 * (g = temp - 50) - 28.0852963507957 * log(g);\n    b = 255;\n  }\n\n  return {\n    r: floor(r),\n    g: floor(g),\n    b: floor(b)\n  };\n};\n/**\r\n * @desc Convert an RGB color to an approximate kelvin temperature\r\n * @param kelvin - kelvin temperature\r\n*/\n\n\nIroColor.rgbToKelvin = function rgbToKelvin (rgb) {\n  var r = rgb.r;\n    var b = rgb.b;\n  var eps = 0.4;\n  var minTemp = KELVIN_MIN;\n  var maxTemp = KELVIN_MAX;\n  var temp;\n\n  while (maxTemp - minTemp > eps) {\n    temp = (maxTemp + minTemp) * 0.5;\n    var rgb$1 = IroColor.kelvinToRgb(temp);\n\n    if (rgb$1.b / rgb$1.r >= b / r) {\n      maxTemp = temp;\n    } else {\n      minTemp = temp;\n    }\n  }\n\n  return temp;\n};\n\nprototypeAccessors.hsv.get = function () {\n  // value is cloned to allow changes to be made to the values before passing them back\n  var value = this.$;\n  return {\n    h: value.h,\n    s: value.s,\n    v: value.v\n  };\n};\n\nprototypeAccessors.hsv.set = function (newValue) {\n  var oldValue = this.$;\n  newValue = Object.assign({}, oldValue,\n    newValue); // If this Color is being watched for changes we need to compare the new and old values to check the difference\n  // Otherwise we can just be lazy\n\n  if (this.onChange) {\n    // Compute changed values\n    var changes = {\n      h: false,\n      v: false,\n      s: false,\n      a: false\n    };\n\n    for (var key in oldValue) {\n      changes[key] = newValue[key] != oldValue[key];\n    }\n\n    this.$ = newValue; // If the value has changed, call hook callback\n\n    if (changes.h || changes.s || changes.v || changes.a) { this.onChange(this, changes); }\n  } else {\n    this.$ = newValue;\n  }\n};\n\nprototypeAccessors.hsva.get = function () {\n  return Object.assign({}, this.$);\n};\n\nprototypeAccessors.hsva.set = function (value) {\n  this.hsv = value;\n};\n\nprototypeAccessors.hue.get = function () {\n  return this.$.h;\n};\n\nprototypeAccessors.hue.set = function (value) {\n  this.hsv = {\n    h: value\n  };\n};\n\nprototypeAccessors.saturation.get = function () {\n  return this.$.s;\n};\n\nprototypeAccessors.saturation.set = function (value) {\n  this.hsv = {\n    s: value\n  };\n};\n\nprototypeAccessors.value.get = function () {\n  return this.$.v;\n};\n\nprototypeAccessors.value.set = function (value) {\n  this.hsv = {\n    v: value\n  };\n};\n\nprototypeAccessors.alpha.get = function () {\n  return this.$.a;\n};\n\nprototypeAccessors.alpha.set = function (value) {\n  this.hsv = Object.assign({}, this.hsv,\n    {a: value});\n};\n\nprototypeAccessors.kelvin.get = function () {\n  return IroColor.rgbToKelvin(this.rgb);\n};\n\nprototypeAccessors.kelvin.set = function (value) {\n  this.rgb = IroColor.kelvinToRgb(value);\n};\n\nprototypeAccessors.rgb.get = function () {\n  var ref = IroColor.hsvToRgb(this.$);\n    var r = ref.r;\n    var g = ref.g;\n    var b = ref.b;\n  return {\n    r: round(r),\n    g: round(g),\n    b: round(b)\n  };\n};\n\nprototypeAccessors.rgb.set = function (value) {\n  this.hsv = Object.assign({}, IroColor.rgbToHsv(value),\n    {a: value.a === undefined ? 1 : value.a});\n};\n\nprototypeAccessors.rgba.get = function () {\n  return Object.assign({}, this.rgb,\n    {a: this.alpha});\n};\n\nprototypeAccessors.rgba.set = function (value) {\n  this.rgb = value;\n};\n\nprototypeAccessors.hsl.get = function () {\n  var ref = IroColor.hsvToHsl(this.$);\n    var h = ref.h;\n    var s = ref.s;\n    var l = ref.l;\n  return {\n    h: round(h),\n    s: round(s),\n    l: round(l)\n  };\n};\n\nprototypeAccessors.hsl.set = function (value) {\n  this.hsv = Object.assign({}, IroColor.hslToHsv(value),\n    {a: value.a === undefined ? 1 : value.a});\n};\n\nprototypeAccessors.hsla.get = function () {\n  return Object.assign({}, this.hsl,\n    {a: this.alpha});\n};\n\nprototypeAccessors.hsla.set = function (value) {\n  this.hsl = value;\n};\n\nprototypeAccessors.rgbString.get = function () {\n  var rgb = this.rgb;\n  return (\"rgb(\" + (rgb.r) + \", \" + (rgb.g) + \", \" + (rgb.b) + \")\");\n};\n\nprototypeAccessors.rgbString.set = function (value) {\n  var match;\n  var r,\n      g,\n      b,\n      a = 1;\n\n  if (match = REGEX_FUNCTIONAL_RGB.exec(value)) {\n    r = parseUnit(match[1], 255);\n    g = parseUnit(match[2], 255);\n    b = parseUnit(match[3], 255);\n  } else if (match = REGEX_FUNCTIONAL_RGBA.exec(value)) {\n    r = parseUnit(match[1], 255);\n    g = parseUnit(match[2], 255);\n    b = parseUnit(match[3], 255);\n    a = parseUnit(match[4], 1);\n  }\n\n  if (match) {\n    this.rgb = {\n      r: r,\n      g: g,\n      b: b,\n      a: a\n    };\n  } else {\n    throw new Error('Invalid rgb string');\n  }\n};\n\nprototypeAccessors.rgbaString.get = function () {\n  var rgba = this.rgba;\n  return (\"rgba(\" + (rgba.r) + \", \" + (rgba.g) + \", \" + (rgba.b) + \", \" + (rgba.a) + \")\");\n};\n\nprototypeAccessors.rgbaString.set = function (value) {\n  this.rgbString = value;\n};\n\nprototypeAccessors.hexString.get = function () {\n  var rgb = this.rgb;\n  return (\"#\" + (intToHex(rgb.r)) + (intToHex(rgb.g)) + (intToHex(rgb.b)));\n};\n\nprototypeAccessors.hexString.set = function (value) {\n  var match;\n  var r,\n      g,\n      b,\n      a = 255;\n\n  if (match = REGEX_HEX_3.exec(value)) {\n    r = parseHexInt(match[1]) * 17;\n    g = parseHexInt(match[2]) * 17;\n    b = parseHexInt(match[3]) * 17;\n  } else if (match = REGEX_HEX_4.exec(value)) {\n    r = parseHexInt(match[1]) * 17;\n    g = parseHexInt(match[2]) * 17;\n    b = parseHexInt(match[3]) * 17;\n    a = parseHexInt(match[4]) * 17;\n  } else if (match = REGEX_HEX_6.exec(value)) {\n    r = parseHexInt(match[1]);\n    g = parseHexInt(match[2]);\n    b = parseHexInt(match[3]);\n  } else if (match = REGEX_HEX_8.exec(value)) {\n    r = parseHexInt(match[1]);\n    g = parseHexInt(match[2]);\n    b = parseHexInt(match[3]);\n    a = parseHexInt(match[4]);\n  }\n\n  if (match) {\n    this.rgb = {\n      r: r,\n      g: g,\n      b: b,\n      a: a / 255\n    };\n  } else {\n    throw new Error('Invalid hex string');\n  }\n};\n\nprototypeAccessors.hex8String.get = function () {\n  var rgba = this.rgba;\n  return (\"#\" + (intToHex(rgba.r)) + (intToHex(rgba.g)) + (intToHex(rgba.b)) + (intToHex(floor(rgba.a * 255))));\n};\n\nprototypeAccessors.hex8String.set = function (value) {\n  this.hexString = value;\n};\n\nprototypeAccessors.hslString.get = function () {\n  var hsl = this.hsl;\n  return (\"hsl(\" + (hsl.h) + \", \" + (hsl.s) + \"%, \" + (hsl.l) + \"%)\");\n};\n\nprototypeAccessors.hslString.set = function (value) {\n  var match;\n  var h,\n      s,\n      l,\n      a = 1;\n\n  if (match = REGEX_FUNCTIONAL_HSL.exec(value)) {\n    h = parseUnit(match[1], 360);\n    s = parseUnit(match[2], 100);\n    l = parseUnit(match[3], 100);\n  } else if (match = REGEX_FUNCTIONAL_HSLA.exec(value)) {\n    h = parseUnit(match[1], 360);\n    s = parseUnit(match[2], 100);\n    l = parseUnit(match[3], 100);\n    a = parseUnit(match[4], 1);\n  }\n\n  if (match) {\n    this.hsl = {\n      h: h,\n      s: s,\n      l: l,\n      a: a\n    };\n  } else {\n    throw new Error('Invalid hsl string');\n  }\n};\n\nprototypeAccessors.hslaString.get = function () {\n  var hsla = this.hsla;\n  return (\"hsl(\" + (hsla.h) + \", \" + (hsla.s) + \"%, \" + (hsla.l) + \"%, \" + (hsla.a) + \")\");\n};\n\nprototypeAccessors.hslaString.set = function (value) {\n  this.hslString = value;\n};\n\nObject.defineProperties( IroColor.prototype, prototypeAccessors );\n\nvar sliderDefaultOptions = {\n  sliderShape: 'bar',\n  sliderType: 'value',\n  minTemperature: 2200,\n  maxTemperature: 11000\n};\n/**\r\n * @desc Get the bounding dimensions of the slider\r\n * @param props - slider props\r\n */\n\nfunction getSliderDimensions(props) {\n  var width = props.width;\n  var sliderSize = props.sliderSize;\n  var borderWidth = props.borderWidth;\n  var handleRadius = props.handleRadius;\n  var padding = props.padding;\n  var sliderShape = props.sliderShape;\n  var ishorizontal = props.layoutDirection === 'horizontal'; // automatically calculate sliderSize if its not defined\n\n  sliderSize = sliderSize ? sliderSize : padding * 2 + handleRadius * 2 + borderWidth * 2;\n\n  if (sliderShape === 'circle') {\n    return {\n      handleStart: props.padding + props.handleRadius,\n      handleRange: width - padding * 2 - handleRadius * 2 - borderWidth * 2,\n      width: width,\n      height: width,\n      cx: width / 2,\n      cy: width / 2,\n      radius: width / 2 - borderWidth / 2\n    };\n  } else {\n    return {\n      handleStart: sliderSize / 2,\n      handleRange: width - sliderSize,\n      radius: sliderSize / 2,\n      x: 0,\n      y: 0,\n      width: ishorizontal ? sliderSize : width,\n      height: ishorizontal ? width : sliderSize\n    };\n  }\n}\n/**\r\n * @desc Get the current slider value for a given color, as a percentage\r\n * @param props - slider props\r\n * @param color\r\n */\n\nfunction getCurrentSliderValue(props, color) {\n  var hsva = color.hsva;\n\n  switch (props.sliderType) {\n    case 'alpha':\n      return hsva.a * 100;\n\n    case 'kelvin':\n      var minTemperature = props.minTemperature;\n  var maxTemperature = props.maxTemperature;\n      var temperatureRange = maxTemperature - minTemperature;\n      var percent = (color.kelvin - minTemperature) / temperatureRange * 100; // clmap percentage\n\n      return Math.max(0, Math.min(percent, 100));\n\n    case 'hue':\n      return hsva.h /= 3.6;\n\n    case 'saturation':\n      return hsva.s;\n\n    case 'value':\n    default:\n      return hsva.v;\n  }\n}\n/**\r\n * @desc Get the current slider value from user input\r\n * @param props - slider props\r\n * @param x - global input x position\r\n * @param y - global input y position\r\n */\n\nfunction getSliderValueFromInput(props, x, y) {\n  var ref = getSliderDimensions(props);\n  var handleRange = ref.handleRange;\n  var handleStart = ref.handleStart;\n  var handlePos;\n\n  if (props.layoutDirection === 'horizontal') {\n    handlePos = -1 * y + handleRange + handleStart;\n  } else {\n    handlePos = x - handleStart;\n  } // clamp handle position\n\n\n  handlePos = Math.max(Math.min(handlePos, handleRange), 0);\n  var percent = Math.round(100 / handleRange * handlePos);\n\n  switch (props.sliderType) {\n    case 'kelvin':\n      var minTemperature = props.minTemperature;\n  var maxTemperature = props.maxTemperature;\n      var temperatureRange = maxTemperature - minTemperature;\n      return minTemperature + temperatureRange * (percent / 100);\n\n    case 'alpha':\n      return percent / 100;\n\n    case 'hue':\n      return percent * 3.6;\n\n    default:\n      return percent;\n  }\n}\n/**\r\n * @desc Get the current handle position for a given color\r\n * @param props - slider props\r\n * @param color\r\n */\n\nfunction getSliderHandlePosition(props, color) {\n  var ref = getSliderDimensions(props);\n  var width = ref.width;\n  var height = ref.height;\n  var handleRange = ref.handleRange;\n  var handleStart = ref.handleStart;\n  var ishorizontal = props.layoutDirection === 'horizontal';\n  var sliderValue = getCurrentSliderValue(props, color);\n  var midPoint = ishorizontal ? width / 2 : height / 2;\n  var handlePos = handleStart + sliderValue / 100 * handleRange;\n\n  if (ishorizontal) {\n    handlePos = -1 * handlePos + handleRange + handleStart * 2;\n  }\n\n  return {\n    x: ishorizontal ? midPoint : handlePos,\n    y: ishorizontal ? handlePos : midPoint\n  };\n}\n/**\r\n * @desc Get the gradient stops for a slider\r\n * @param props - slider props\r\n * @param color\r\n */\n\nfunction getSliderGradient(props, color) {\n  var hsv = color.hsv;\n\n  switch (props.sliderType) {\n    case 'alpha':\n      var rgb = color.rgb;\n      return [[0, (\"rgba(\" + (rgb.r) + \",\" + (rgb.g) + \",\" + (rgb.b) + \",0)\")], [100, (\"rgb(\" + (rgb.r) + \",\" + (rgb.g) + \",\" + (rgb.b) + \")\")]];\n\n    case 'kelvin':\n      var stops = [];\n      var min = props.minTemperature;\n      var max = props.maxTemperature;\n      var numStops = 8;\n      var range = max - min;\n\n      for (var kelvin = min, stop = 0; kelvin < max; kelvin += range / numStops, stop += 1) {\n        var ref = IroColor.kelvinToRgb(kelvin);\n        var r = ref.r;\n        var g = ref.g;\n        var b = ref.b;\n        stops.push([100 / numStops * stop, (\"rgb(\" + r + \",\" + g + \",\" + b + \")\")]);\n      }\n\n      return stops;\n\n    case 'hue':\n      return [[0, '#f00'], [16.666, '#ff0'], [33.333, '#0f0'], [50, '#0ff'], [66.666, '#00f'], [83.333, '#f0f'], [100, '#f00']];\n\n    case 'saturation':\n      var noSat = IroColor.hsvToHsl({\n        h: hsv.h,\n        s: 0,\n        v: hsv.v\n      });\n      var fullSat = IroColor.hsvToHsl({\n        h: hsv.h,\n        s: 100,\n        v: hsv.v\n      });\n      return [[0, (\"hsl(\" + (noSat.h) + \",\" + (noSat.s) + \"%,\" + (noSat.l) + \"%)\")], [100, (\"hsl(\" + (fullSat.h) + \",\" + (fullSat.s) + \"%,\" + (fullSat.l) + \"%)\")]];\n\n    case 'value':\n    default:\n      var hsl = IroColor.hsvToHsl({\n        h: hsv.h,\n        s: hsv.s,\n        v: 100\n      });\n      return [[0, '#000'], [100, (\"hsl(\" + (hsl.h) + \",\" + (hsl.s) + \"%,\" + (hsl.l) + \"%)\")]];\n  }\n}\n/**\r\n * @desc Get the gradient coords for a slider\r\n * @param props - slider props\r\n */\n\nfunction getSliderGradientCoords(props) {\n  var ishorizontal = props.layoutDirection === 'horizontal';\n  return {\n    x1: '0%',\n    y1: ishorizontal ? '100%' : '0%',\n    x2: ishorizontal ? '0%' : '100%',\n    y2: '0%'\n  };\n}\n\n/**\r\n * @desc Get the point as the center of the wheel\r\n * @param props - wheel props\r\n */\nfunction getWheelDimensions(props) {\n  var rad = props.width / 2;\n  return {\n    width: props.width,\n    radius: rad - props.borderWidth,\n    cx: rad,\n    cy: rad\n  };\n}\n/**\r\n * @desc Translate an angle according to wheelAngle and wheelDirection\r\n * @param props - wheel props\r\n * @param angle - input angle\r\n */\n\nfunction translateWheelAngle(props, angle, invert) {\n  var wheelAngle = props.wheelAngle;\n  var wheelDirection = props.wheelDirection;\n\n  if (!invert && wheelDirection === 'clockwise' || invert && wheelDirection === 'anticlockwise') {\n    angle = (invert ? 180 : 360) - (wheelAngle - angle);\n  } else {\n    angle = wheelAngle + angle;\n  } // javascript's modulo operator doesn't produce positive numbers with negative input\n  // https://dev.to/maurobringolf/a-neat-trick-to-compute-modulo-of-negative-numbers-111e\n\n\n  return (angle % 360 + 360) % 360;\n}\n/**\r\n * @desc Get the current handle position for a given color\r\n * @param props - wheel props\r\n * @param color\r\n */\n\nfunction getWheelHandlePosition(props, color) {\n  var hsv = color.hsv;\n  var ref = getWheelDimensions(props);\n  var cx = ref.cx;\n  var cy = ref.cy;\n  var handleRange = props.width / 2 - props.padding - props.handleRadius - props.borderWidth;\n  var handleAngle = (180 + translateWheelAngle(props, hsv.h, true)) * (Math.PI / 180);\n  var handleDist = hsv.s / 100 * handleRange;\n  var direction = props.wheelDirection === 'clockwise' ? -1 : 1;\n  return {\n    x: cx + handleDist * Math.cos(handleAngle) * direction,\n    y: cy + handleDist * Math.sin(handleAngle) * direction\n  };\n}\n/**\r\n * @desc Get the current wheel value from user input\r\n * @param props - wheel props\r\n * @param x - global input x position\r\n * @param y - global input y position\r\n */\n\nfunction getWheelValueFromInput(props, x, y) {\n  var ref = getWheelDimensions(props);\n  var cx = ref.cx;\n  var cy = ref.cy;\n  var handleRange = props.width / 2 - props.padding - props.handleRadius - props.borderWidth;\n  x = cx - x;\n  y = cy - y; // Calculate the hue by converting the angle to radians\n\n  var hue = translateWheelAngle(props, Math.atan2(-y, -x) * (180 / Math.PI)); // Find the point's distance from the center of the wheel\n  // This is used to show the saturation level\n\n  var handleDist = Math.min(Math.sqrt(x * x + y * y), handleRange);\n  return {\n    h: Math.round(hue),\n    s: Math.round(100 / handleRange * handleDist)\n  };\n}\n/**\r\n * @desc Get the bounding dimensions of the box\r\n * @param props - box props\r\n */\n\nfunction getBoxDimensions(props) {\n  var width = props.width;\n  var padding = props.padding;\n  var handleRadius = props.handleRadius;\n  return {\n    width: width,\n    height: width,\n    radius: padding + handleRadius\n  };\n}\n/**\r\n * @desc Get the current box value from user input\r\n * @param props - box props\r\n * @param x - global input x position\r\n * @param y - global input y position\r\n */\n\nfunction getBoxValueFromInput(props, x, y) {\n  var ref = getBoxDimensions(props);\n  var width = ref.width;\n  var height = ref.height;\n  var radius = ref.radius;\n  var handleStart = radius;\n  var handleRangeX = width - radius * 2;\n  var handleRangeY = height - radius * 2;\n  var percentX = (x - handleStart) / handleRangeX * 100;\n  var percentY = (y - handleStart) / handleRangeY * 100;\n  return {\n    s: Math.max(0, Math.min(percentX, 100)),\n    v: Math.max(0, Math.min(100 - percentY, 100))\n  };\n}\n/**\r\n * @desc Get the current box handle position for a given color\r\n * @param props - box props\r\n * @param color\r\n */\n\nfunction getBoxHandlePosition(props, color) {\n  var ref = getBoxDimensions(props);\n  var width = ref.width;\n  var height = ref.height;\n  var radius = ref.radius;\n  var hsv = color.hsv;\n  var handleStart = radius;\n  var handleRangeX = width - radius * 2;\n  var handleRangeY = height - radius * 2;\n  return {\n    x: handleStart + hsv.s / 100 * handleRangeX,\n    y: handleStart + (handleRangeY - hsv.v / 100 * handleRangeY)\n  };\n}\n/**\r\n * @desc Get the gradient stops for a box\r\n * @param props - box props\r\n * @param color\r\n */\n\nfunction getBoxGradients(props, color) {\n  var hue = color.hue;\n  return [// saturation gradient\n  [[0, '#fff'], [100, (\"hsl(\" + hue + \",100%,50%)\")]], // lightness gradient\n  [[0, 'rgba(0,0,0,0)'], [100, '#000']]];\n}\n\n// Keep track of html <base> elements for resolveSvgUrl\n// getElementsByTagName returns a live HTMLCollection, which stays in sync with the DOM tree\n// So it only needs to be called once\nvar BASE_ELEMENTS = document.getElementsByTagName('base');\n/**\r\n * @desc Resolve an SVG reference URL\r\n * This is required to work around how Safari and iOS webviews handle gradient URLS under certain conditions\r\n * If a page is using a client-side routing library which makes use of the HTML <base> tag,\r\n * Safari won't be able to render SVG gradients properly (as they are referenced by URLs)\r\n * More info on the problem:\r\n * https://stackoverflow.com/questions/19742805/angular-and-svg-filters/19753427#19753427\r\n * https://github.com/jaames/iro.js/issues/18\r\n * https://github.com/jaames/iro.js/issues/45\r\n * https://github.com/jaames/iro.js/pull/89\r\n * @props url - SVG reference URL\r\n */\n\nfunction resolveSvgUrl(url) {\n  // Sniff useragent string to check if the user is running Safari\n  var ua = window.navigator.userAgent;\n  var isSafari = /^((?!chrome|android).)*safari/i.test(ua);\n  var isIos = /iPhone|iPod|iPad/i.test(ua);\n  var location = window.location;\n  return (isSafari || isIos) && BASE_ELEMENTS.length > 0 ? ((location.protocol) + \"//\" + (location.host) + (location.pathname) + (location.search) + url) : url;\n}\n/**\r\n * @desc Get the path commands to draw an svg arc\r\n * @props cx - arc center point x\r\n * @props cy - arc center point y\r\n * @props radius - arc radius\r\n * @props startAngle - arc start angle\r\n * @props endAngle - arc end angle\r\n */\n\nfunction getSvgArcPath(cx, cy, radius, startAngle, endAngle) {\n  var largeArcFlag = endAngle - startAngle <= 180 ? 0 : 1;\n  startAngle *= Math.PI / 180;\n  endAngle *= Math.PI / 180;\n  var x1 = cx + radius * Math.cos(endAngle);\n  var y1 = cy + radius * Math.sin(endAngle);\n  var x2 = cx + radius * Math.cos(startAngle);\n  var y2 = cy + radius * Math.sin(startAngle);\n  return (\"M \" + x1 + \" \" + y1 + \" A \" + radius + \" \" + radius + \" 0 \" + largeArcFlag + \" 0 \" + x2 + \" \" + y2);\n}\n/**\r\n * @desc Given a specifc (x, y) position, test if there's a handle there and return its index, else return null.\r\n *       This is used for components like the box and wheel which support multiple handles when multicolor is active\r\n * @props x - point x position\r\n * @props y - point y position\r\n * @props handlePositions - array of {x, y} coords for each handle\r\n */\n\nfunction getHandleAtPoint(props, x, y, handlePositions) {\n  for (var i = 0; i < handlePositions.length; i++) {\n    var dX = handlePositions[i].x - x;\n    var dY = handlePositions[i].y - y;\n    var dist = Math.sqrt(dX * dX + dY * dY);\n\n    if (dist < props.handleRadius) {\n      return i;\n    }\n  }\n\n  return null;\n}\n\nvar iroColorPickerOptionDefaults = {\n  width: 300,\n  height: 300,\n  handleRadius: 8,\n  handleSvg: null,\n  handleProps: {\n    x: 0,\n    y: 0\n  },\n  color: '#fff',\n  colors: [],\n  borderColor: '#fff',\n  borderWidth: 0,\n  wheelLightness: true,\n  wheelAngle: 0,\n  wheelDirection: 'anticlockwise',\n  layoutDirection: 'vertical',\n  sliderSize: null,\n  sliderMargin: 12,\n  padding: 6\n};\n\nvar SECONDARY_EVENTS = [\"mousemove\" /* MouseMove */, \"touchmove\" /* TouchMove */, \"mouseup\" /* MouseUp */, \"touchend\" /* TouchEnd */];\r\n// Base component class for iro UI components\r\n// This extends the Preact component class to allow them to react to mouse/touch input events by themselves\r\nvar IroComponentBase = /*@__PURE__*/(function (Component) {\n    function IroComponentBase(props) {\r\n        Component.call(this, props);\r\n        // Generate unique ID for the component\r\n        // This can be used to generate unique IDs for gradients, etc\r\n        this.uid = (Math.random() + 1).toString(36).substring(5);\r\n    }\n\n    if ( Component ) IroComponentBase.__proto__ = Component;\n    IroComponentBase.prototype = Object.create( Component && Component.prototype );\n    IroComponentBase.prototype.constructor = IroComponentBase;\r\n    IroComponentBase.prototype.render = function render (props) {\r\n        var eventHandler = this.handleEvent.bind(this);\r\n        var rootProps = {\r\n            onMouseDown: eventHandler,\r\n            onTouchStart: eventHandler\r\n        };\r\n        var isHorizontal = props.layoutDirection === 'horizontal';\r\n        var margin = props.margin === null ? props.sliderMargin : props.margin;\r\n        var rootStyles = {\r\n            overflow: 'visible',\r\n            display: isHorizontal ? 'inline-block' : 'block'\r\n        };\r\n        // first component shouldn't have any margin\r\n        if (props.index > 0) {\r\n            rootStyles[isHorizontal ? 'marginLeft' : 'marginTop'] = margin;\r\n        }\r\n        return (h(d, null, props.children(this.uid, rootProps, rootStyles)));\r\n    };\r\n    // More info on handleEvent:\r\n    // https://medium.com/@WebReflection/dom-handleevent-a-cross-platform-standard-since-year-2000-5bf17287fd38\r\n    // TL;DR this lets us have a single point of entry for multiple events, and we can avoid callback/binding hell\r\n    IroComponentBase.prototype.handleEvent = function handleEvent (e) {\n        var this$1 = this;\n\r\n        var inputHandler = this.props.onInput;\r\n        // Get the screen position of the component\r\n        var bounds = this.base.getBoundingClientRect();\r\n        // Prefect default browser action\r\n        e.preventDefault();\r\n        // Detect if the event is a touch event by checking if it has the `touches` property\r\n        // If it is a touch event, use the first touch input\r\n        var point = e.touches ? e.changedTouches[0] : e;\r\n        var x = point.clientX - bounds.left;\r\n        var y = point.clientY - bounds.top;\r\n        switch (e.type) {\r\n            case \"mousedown\" /* MouseDown */:\r\n            case \"touchstart\" /* TouchStart */:\r\n                SECONDARY_EVENTS.forEach(function (event) {\r\n                    document.addEventListener(event, this$1, { passive: false });\r\n                });\r\n                inputHandler(x, y, 0 /* Start */);\r\n                break;\r\n            case \"mousemove\" /* MouseMove */:\r\n            case \"touchmove\" /* TouchMove */:\r\n                inputHandler(x, y, 1 /* Move */);\r\n                break;\r\n            case \"mouseup\" /* MouseUp */:\r\n            case \"touchend\" /* TouchEnd */:\r\n                inputHandler(x, y, 2 /* End */);\r\n                SECONDARY_EVENTS.forEach(function (event) {\r\n                    document.removeEventListener(event, this$1);\r\n                });\r\n                break;\r\n        }\r\n    };\n\n    return IroComponentBase;\n}(m));\n\nfunction IroHandle(props) {\r\n    var radius = props.r;\r\n    var url = props.url;\r\n    return (h(\"svg\", { className: (\"IroHandle IroHandle--\" + (props.index) + \" \" + (props.isActive ? 'IroHandle--isActive' : '')), x: props.x, y: props.y, style: {\r\n            overflow: 'visible'\r\n        } },\r\n        url && (h(\"use\", Object.assign({ xlinkHref: resolveSvgUrl(url) }, props.props))),\r\n        !url && (h(\"circle\", { r: radius, fill: \"none\", \"stroke-width\": 2, stroke: \"#000\" })),\r\n        !url && (h(\"circle\", { r: radius - 2, fill: props.fill, \"stroke-width\": 2, stroke: \"#fff\" }))));\r\n}\r\nIroHandle.defaultProps = {\r\n    fill: 'none',\r\n    x: 0,\r\n    y: 0,\r\n    r: 8,\r\n    url: null,\r\n    props: { x: 0, y: 0 }\r\n};\n\nfunction IroSlider(props) {\r\n    var activeColor = props.color;\r\n    var ref = getSliderDimensions(props);\n    var width = ref.width;\n    var height = ref.height;\n    var radius = ref.radius;\r\n    var handlePos = getSliderHandlePosition(props, activeColor);\r\n    var gradient = getSliderGradient(props, activeColor);\r\n    var isAlpha = props.sliderType === 'alpha';\r\n    function handleInput(x, y, type) {\r\n        var value = getSliderValueFromInput(props, x, y);\r\n        props.parent.inputActive = true;\r\n        activeColor[props.sliderType] = value;\r\n        props.onInput(type);\r\n    }\r\n    return (h(IroComponentBase, Object.assign({}, props, { onInput: handleInput }), function (uid, rootProps, rootStyles) { return (h(\"svg\", Object.assign({}, rootProps, { className: \"IroSlider\", width: width, height: height, style: rootStyles }),\r\n        h(\"defs\", null,\r\n            h(\"linearGradient\", Object.assign({ id: 'g' + uid }, getSliderGradientCoords(props)), gradient.map(function (ref) {\n                var offset = ref[0];\n                var color = ref[1];\n\n                return (h(\"stop\", { offset: (offset + \"%\"), \"stop-color\": color }));\n        })),\r\n            isAlpha && (h(\"pattern\", { id: 'b' + uid, width: \"8\", height: \"8\", patternUnits: \"userSpaceOnUse\" },\r\n                h(\"rect\", { x: \"0\", y: \"0\", width: \"8\", height: \"8\", fill: \"#fff\" }),\r\n                h(\"rect\", { x: \"0\", y: \"0\", width: \"4\", height: \"4\", fill: \"#ccc\" }),\r\n                h(\"rect\", { x: \"4\", y: \"4\", width: \"4\", height: \"4\", fill: \"#ccc\" }))),\r\n            isAlpha && (h(\"pattern\", { id: 'f' + uid, width: \"100%\", height: \"100%\" },\r\n                h(\"rect\", { x: \"0\", y: \"0\", width: \"100%\", height: \"100%\", fill: (\"url(\" + (resolveSvgUrl('#b' + uid)) + \")\") }),\r\n                \" }\",\r\n                h(\"rect\", { x: \"0\", y: \"0\", width: \"100%\", height: \"100%\", fill: (\"url(\" + (resolveSvgUrl('#g' + uid)) + \")\") })))),\r\n        h(\"rect\", { className: \"IroSliderBg\", rx: radius, ry: radius, x: props.borderWidth / 2, y: props.borderWidth / 2, width: width - props.borderWidth, height: height - props.borderWidth, \"stroke-width\": props.borderWidth, stroke: props.borderColor, fill: (\"url(\" + (resolveSvgUrl((isAlpha ? '#f' : '#g') + uid)) + \")\") }),\r\n        h(IroHandle, { isActive: true, index: activeColor.index, r: props.handleRadius, url: props.handleSvg, props: props.handleProps, x: handlePos.x, y: handlePos.y }))); }));\r\n}\r\nIroSlider.defaultProps = Object.assign({}, sliderDefaultOptions);\n\nfunction IroBox(props) {\r\n    var ref = getBoxDimensions(props);\n    var width = ref.width;\n    var height = ref.height;\n    var radius = ref.radius;\r\n    var colors = props.colors;\r\n    var colorPicker = props.parent;\r\n    var activeColor = props.color;\r\n    var gradients = getBoxGradients(props, activeColor);\r\n    var handlePositions = colors.map(function (color) { return getBoxHandlePosition(props, color); });\r\n    function handleInput(x, y, inputType) {\r\n        if (inputType === 0 /* Start */) {\r\n            // getHandleAtPoint() returns the index for the handle if the point 'hits' it, or null otherwise\r\n            var activeHandle = getHandleAtPoint(props, x, y, handlePositions);\r\n            // If the input hit a handle, set it as the active handle, but don't update the color\r\n            if (activeHandle !== null) {\r\n                colorPicker.setActiveColor(activeHandle);\r\n            }\r\n            // If the input didn't hit a handle, set the currently active handle to that position\r\n            else {\r\n                colorPicker.inputActive = true;\r\n                activeColor.hsv = getBoxValueFromInput(props, x, y);\r\n                props.onInput(inputType);\r\n            }\r\n        }\r\n        // move is fired when the user has started dragging\r\n        else if (inputType === 1 /* Move */) {\r\n            colorPicker.inputActive = true;\r\n            activeColor.hsv = getBoxValueFromInput(props, x, y);\r\n        }\r\n        // let the color picker fire input:start, input:move or input:end events\r\n        props.onInput(inputType);\r\n    }\r\n    return (h(IroComponentBase, Object.assign({}, props, { onInput: handleInput }), function (uid, rootProps, rootStyles) { return (h(\"svg\", Object.assign({}, rootProps, { className: \"IroBox\", width: width, height: height, style: rootStyles }),\r\n        h(\"defs\", null,\r\n            h(\"linearGradient\", { id: 's' + uid, x1: \"0%\", y1: \"0%\", x2: \"100%\", y2: \"0%\" }, gradients[0].map(function (ref) {\n                var offset = ref[0];\n                var color = ref[1];\n\n                return (h(\"stop\", { offset: (offset + \"%\"), \"stop-color\": color }));\n        })),\r\n            h(\"linearGradient\", { id: 'l' + uid, x1: \"0%\", y1: \"0%\", x2: \"0%\", y2: \"100%\" }, gradients[1].map(function (ref) {\n                var offset = ref[0];\n                var color = ref[1];\n\n                return (h(\"stop\", { offset: (offset + \"%\"), \"stop-color\": color }));\n        })),\r\n            h(\"pattern\", { id: 'f' + uid, width: \"100%\", height: \"100%\" },\r\n                h(\"rect\", { x: \"0\", y: \"0\", width: \"100%\", height: \"100%\", fill: (\"url(\" + (resolveSvgUrl('#s' + uid)) + \")\") }),\r\n                \" }\",\r\n                h(\"rect\", { x: \"0\", y: \"0\", width: \"100%\", height: \"100%\", fill: (\"url(\" + (resolveSvgUrl('#l' + uid)) + \")\") }))),\r\n        h(\"rect\", { rx: radius, ry: radius, x: props.borderWidth / 2, y: props.borderWidth / 2, width: width - props.borderWidth, height: height - props.borderWidth, \"stroke-width\": props.borderWidth, stroke: props.borderColor, fill: (\"url(\" + (resolveSvgUrl('#f' + uid)) + \")\") }),\r\n        colors.filter(function (color) { return color !== activeColor; }).map(function (color) { return (h(IroHandle, { isActive: false, index: color.index, fill: color.hslString, r: props.handleRadius, url: props.handleSvg, props: props.handleProps, x: handlePositions[color.index].x, y: handlePositions[color.index].y })); }),\r\n        h(IroHandle, { isActive: true, index: activeColor.index, fill: activeColor.hslString, r: props.handleRadius, url: props.handleSvg, props: props.handleProps, x: handlePositions[activeColor.index].x, y: handlePositions[activeColor.index].y }))); }));\r\n}\n\nvar HUE_STEPS = Array.apply(null, { length: 360 }).map(function (_, index) { return index; });\r\nfunction IroWheel(props) {\r\n    var ref = getWheelDimensions(props);\n    var width = ref.width;\n    var radius = ref.radius;\n    var cx = ref.cx;\n    var cy = ref.cy;\r\n    var colors = props.colors;\n    var borderWidth = props.borderWidth;\r\n    var colorPicker = props.parent;\r\n    var activeColor = props.color;\r\n    var hsv = activeColor.hsv;\r\n    var handlePositions = colors.map(function (color) { return getWheelHandlePosition(props, color); });\r\n    function handleInput(x, y, inputType) {\r\n        if (inputType === 0 /* Start */) {\r\n            // getHandleAtPoint() returns the index for the handle if the point 'hits' it, or null otherwise\r\n            var activeHandle = getHandleAtPoint(props, x, y, handlePositions);\r\n            // If the input hit a handle, set it as the active handle, but don't update the color\r\n            if (activeHandle !== null) {\r\n                colorPicker.setActiveColor(activeHandle);\r\n            }\r\n            // If the input didn't hit a handle, set the currently active handle to that position\r\n            else {\r\n                colorPicker.inputActive = true;\r\n                activeColor.hsv = getWheelValueFromInput(props, x, y);\r\n                props.onInput(inputType);\r\n            }\r\n        }\r\n        // move is fired when the user has started dragging\r\n        else if (inputType === 1 /* Move */) {\r\n            colorPicker.inputActive = true;\r\n            activeColor.hsv = getWheelValueFromInput(props, x, y);\r\n        }\r\n        // let the color picker fire input:start, input:move or input:end events\r\n        props.onInput(inputType);\r\n    }\r\n    return (h(IroComponentBase, Object.assign({}, props, { onInput: handleInput }), function (uid, rootProps, rootStyles) { return (h(\"svg\", Object.assign({}, rootProps, { className: \"IroWheel\", width: width, height: width, style: rootStyles }),\r\n        h(\"defs\", null,\r\n            h(\"radialGradient\", { id: uid },\r\n                h(\"stop\", { offset: \"0%\", \"stop-color\": \"#fff\" }),\r\n                h(\"stop\", { offset: \"100%\", \"stop-color\": \"#fff\", \"stop-opacity\": \"0\" }))),\r\n        h(\"g\", { className: \"IroWheelHue\", \"stroke-width\": radius, fill: \"none\" }, HUE_STEPS.map(function (angle) { return (h(\"path\", { key: angle, d: getSvgArcPath(cx, cy, radius / 2, angle, angle + 1.5), stroke: (\"hsl(\" + (translateWheelAngle(props, angle)) + \", 100%, 50%)\") })); })),\r\n        h(\"circle\", { className: \"IroWheelSaturation\", cx: cx, cy: cy, r: radius, fill: (\"url(\" + (resolveSvgUrl('#' + uid)) + \")\") }),\r\n        props.wheelLightness && (h(\"circle\", { className: \"IroWheelLightness\", cx: cx, cy: cy, r: radius, fill: \"#000\", opacity: 1 - hsv.v / 100 })),\r\n        h(\"circle\", { className: \"IroWheelBorder\", cx: cx, cy: cy, r: radius, fill: \"none\", stroke: props.borderColor, \"stroke-width\": borderWidth }),\r\n        colors.filter(function (color) { return color !== activeColor; }).map(function (color) { return (h(IroHandle, { isActive: false, index: color.index, fill: color.hslString, r: props.handleRadius, url: props.handleSvg, props: props.handleProps, x: handlePositions[color.index].x, y: handlePositions[color.index].y })); }),\r\n        h(IroHandle, { isActive: true, index: activeColor.index, fill: activeColor.hslString, r: props.handleRadius, url: props.handleSvg, props: props.handleProps, x: handlePositions[activeColor.index].x, y: handlePositions[activeColor.index].y }))); }));\r\n}\n\n// Turn a component into a widget\r\n// This returns a factory function that can be used to create an instance of the widget component\r\n// The first function param is a DOM element or CSS selector for the element to mount to,\r\n// The second param is for config options which are passed to the component as props\r\n// This factory function can also delay mounting the element into the DOM until the page is ready\r\nfunction createWidget(WidgetComponent) {\r\n    var widgetFactory = function (parent, props) {\r\n        var widget; // will become an instance of the widget component class\r\n        var widgetRoot = document.createElement('div');\r\n        // Render widget into a temp DOM node\r\n        I(h(WidgetComponent, Object.assign({}, {ref: function (ref) { return widget = ref; }},\r\n            props)), widgetRoot);\r\n        function mountWidget() {\r\n            var container = parent instanceof Element ? parent : document.querySelector(parent);\r\n            container.appendChild(widget.base);\r\n            widget.onMount(container);\r\n        }\r\n        // Mount it into the DOM when the page document is ready\r\n        if (document.readyState !== 'loading') {\r\n            mountWidget();\r\n        }\r\n        else {\r\n            document.addEventListener('DOMContentLoaded', mountWidget);\r\n        }\r\n        return widget;\r\n    };\r\n    // Allow the widget factory to inherit component prototype + static class methods\r\n    // This makes it easier for plugin authors to extend the base widget component\r\n    widgetFactory.prototype = WidgetComponent.prototype;\r\n    Object.assign(widgetFactory, WidgetComponent);\r\n    // Add reference to base component too\r\n    widgetFactory.__component = WidgetComponent;\r\n    return widgetFactory;\r\n}\n\nvar IroColorPicker = /*@__PURE__*/(function (Component) {\n    function IroColorPicker(props) {\n        var this$1 = this;\n\r\n        Component.call(this, props);\r\n        this.colors = [];\r\n        this.inputActive = false;\r\n        this.events = {};\r\n        this.activeEvents = {};\r\n        this.deferredEvents = {};\r\n        this.id = props.id;\r\n        var colors = props.colors.length > 0 ? props.colors : [props.color];\r\n        colors.forEach(function (colorValue) { return this$1.addColor(colorValue); });\r\n        this.setActiveColor(0);\r\n        // Pass all the props into the component's state,\r\n        // Except we want to add the color object and make sure that refs aren't passed down to children\r\n        this.state = Object.assign({}, props,\r\n            {color: this.color,\r\n            colors: this.colors,\r\n            layout: props.layout});\r\n    }\n\n    if ( Component ) IroColorPicker.__proto__ = Component;\n    IroColorPicker.prototype = Object.create( Component && Component.prototype );\n    IroColorPicker.prototype.constructor = IroColorPicker;\r\n    // Plubic multicolor API\r\n    /**\r\n    * @desc Add a color to the color picker\r\n    * @param color new color to add\r\n    * @param index optional color index\r\n    */\r\n    IroColorPicker.prototype.addColor = function addColor (color, index) {\n        if ( index === void 0 ) index = this.colors.length;\n\r\n        // Create a new iro.Color\r\n        // Also bind it to onColorChange, so whenever the color changes it updates the color picker\r\n        var newColor = new IroColor(color, this.onColorChange.bind(this));\r\n        // Insert color @ the given index\r\n        this.colors.splice(index, 0, newColor);\r\n        // Reindex colors\r\n        this.colors.forEach(function (color, index) { return color.index = index; });\r\n        // Update picker state if necessary\r\n        if (this.state) {\r\n            this.setState({ colors: this.colors });\r\n        }\r\n        // Fire color init event\r\n        this.deferredEmit('color:init', newColor);\r\n    };\r\n    /**\r\n     * @desc Remove a color from the color picker\r\n     * @param index color index\r\n     */\r\n    IroColorPicker.prototype.removeColor = function removeColor (index) {\r\n        var color = this.colors.splice(index, 1)[0];\r\n        // Destroy the color object -- this unbinds it from the color picker\r\n        color.unbind();\r\n        // Reindex colors\r\n        this.colors.forEach(function (color, index) { return color.index = index; });\r\n        // Update picker state if necessary\r\n        if (this.state) {\r\n            this.setState({ colors: this.colors });\r\n        }\r\n        // If the active color was removed, default active color to 0\r\n        if (color.index === this.color.index) {\r\n            this.setActiveColor(0);\r\n        }\r\n        // Fire color remove event\r\n        this.emit('color:remove', color);\r\n    };\r\n    /**\r\n     * @desc Set the currently active color\r\n     * @param index color index\r\n     */\r\n    IroColorPicker.prototype.setActiveColor = function setActiveColor (index) {\r\n        this.color = this.colors[index];\r\n        if (this.state) {\r\n            this.setState({ color: this.color });\r\n        }\r\n        // Fire color switch event\r\n        this.emit('color:setActive', this.color);\r\n    };\r\n    /**\r\n     * @desc Replace all of the current colorPicker colors\r\n     * @param newColorValues list of new colors to add\r\n     */\r\n    IroColorPicker.prototype.setColors = function setColors (newColorValues) {\n        var this$1 = this;\n\r\n        // Unbind color events\r\n        this.colors.forEach(function (color) { return color.unbind(); });\r\n        // Destroy old colors\r\n        this.colors = [];\r\n        // Add new colors\r\n        newColorValues.forEach(function (colorValue) { return this$1.addColor(colorValue); });\r\n        // Reset active color\r\n        this.setActiveColor(0);\r\n        this.emit('color:setAll', this.colors);\r\n    };\r\n    // Public ColorPicker events API\r\n    /**\r\n     * @desc Set a callback function for an event\r\n     * @param eventList event(s) to listen to\r\n     * @param callback - Function called when the event is fired\r\n     */\r\n    IroColorPicker.prototype.on = function on (eventList, callback) {\n        var this$1 = this;\n\r\n        var events = this.events;\r\n        // eventList can be an eventType string or an array of eventType strings\r\n        (!Array.isArray(eventList) ? [eventList] : eventList).forEach(function (eventType) {\r\n            // Add event callback\r\n            (events[eventType] || (events[eventType] = [])).push(callback);\r\n            // Call deferred events\r\n            // These are events that can be stored until a listener for them is added\r\n            if (this$1.deferredEvents[eventType]) {\r\n                // Deffered events store an array of arguments from when the event was called\r\n                this$1.deferredEvents[eventType].forEach(function (args) {\r\n                    callback.apply(null, args);\r\n                });\r\n                // Clear deferred events\r\n                this$1.deferredEvents[eventType] = [];\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * @desc Remove a callback function for an event added with on()\r\n     * @param eventList - event(s) to listen to\r\n     * @param callback - original callback function to remove\r\n     */\r\n    IroColorPicker.prototype.off = function off (eventList, callback) {\n        var this$1 = this;\n\r\n        (!Array.isArray(eventList) ? [eventList] : eventList).forEach(function (eventType) {\r\n            var callbackList = this$1.events[eventType];\r\n            // this.emitHook('event:off', eventType, callback);\r\n            if (callbackList)\r\n                { callbackList.splice(callbackList.indexOf(callback), 1); }\r\n        });\r\n    };\r\n    /**\r\n     * @desc Emit an event\r\n     * @param eventType event to emit\r\n     */\r\n    IroColorPicker.prototype.emit = function emit (eventType) {\n        var this$1 = this;\n        var args = [], len = arguments.length - 1;\n        while ( len-- > 0 ) args[ len ] = arguments[ len + 1 ];\n\r\n        var activeEvents = this.activeEvents;\r\n        var isEventActive = activeEvents.hasOwnProperty(eventType) ? activeEvents[eventType] : false;\r\n        // Prevent event callbacks from firing if the event is already active\r\n        // This stops infinite loops if something in an event callback causes the same event to be fired again\r\n        // (e.g. setting the color inside a color:change callback)\r\n        if (!isEventActive) {\r\n            activeEvents[eventType] = true;\r\n            var callbackList = this.events[eventType] || [];\r\n            callbackList.forEach(function (fn) { return fn.apply(this$1, args); });\r\n            activeEvents[eventType] = false;\r\n        }\r\n    };\r\n    /**\r\n     * @desc Emit an event now, or save it for when the relevent event listener is added\r\n     * @param eventType - The name of the event to emit\r\n     */\r\n    IroColorPicker.prototype.deferredEmit = function deferredEmit (eventType) {\n        var ref;\n\n        var args = [], len = arguments.length - 1;\n        while ( len-- > 0 ) args[ len ] = arguments[ len + 1 ];\r\n        var deferredEvents = this.deferredEvents;\r\n        (ref = this).emit.apply(ref, [ eventType ].concat( args ));\r\n        (deferredEvents[eventType] || (deferredEvents[eventType] = [])).push(args);\r\n    };\r\n    // Public utility methods\r\n    IroColorPicker.prototype.setOptions = function setOptions (newOptions) {\r\n        this.setState(Object.assign({}, this.state, newOptions));\r\n    };\r\n    /**\r\n     * @desc Resize the color picker\r\n     * @param width - new width\r\n     */\r\n    IroColorPicker.prototype.resize = function resize (width) {\r\n        this.setOptions({ width: width });\r\n    };\r\n    /**\r\n     * @desc Reset the color picker to the initial color provided in the color picker options\r\n     */\r\n    IroColorPicker.prototype.reset = function reset () {\r\n        this.colors.forEach(function (color) { return color.reset(); });\r\n        this.setState({ colors: this.colors });\r\n    };\r\n    /**\r\n     * @desc Called by the createWidget wrapper when the element is mounted into the page\r\n     * @param container - the container element for this ColorPicker instance\r\n     */\r\n    IroColorPicker.prototype.onMount = function onMount (container) {\r\n        this.el = container;\r\n        this.deferredEmit('mount', this);\r\n    };\r\n    // Internal methods\r\n    /**\r\n     * @desc React to a color update\r\n     * @param color - current color\r\n     * @param changes - shows which h,s,v,a color channels changed\r\n     */\r\n    IroColorPicker.prototype.onColorChange = function onColorChange (color, changes) {\r\n        this.setState({ color: this.color });\r\n        if (this.inputActive) {\r\n            this.inputActive = false;\r\n            this.emit('input:change', color, changes);\r\n        }\r\n        this.emit('color:change', color, changes);\r\n    };\r\n    /**\r\n     * @desc Handle input from a UI control element\r\n     * @param type - event type\r\n     */\r\n    IroColorPicker.prototype.emitInputEvent = function emitInputEvent (type) {\r\n        if (type === 0 /* Start */) {\r\n            this.emit('input:start', this.color);\r\n        }\r\n        else if (type === 1 /* Move */) {\r\n            this.emit('input:move', this.color);\r\n        }\r\n        else if (type === 2 /* End */) {\r\n            this.emit('input:end', this.color);\r\n        }\r\n    };\r\n    IroColorPicker.prototype.render = function render (props, state) {\n        var this$1 = this;\n\r\n        var layout = state.layout;\r\n        // use layout shorthands\r\n        if (!Array.isArray(layout)) {\r\n            switch (layout) {\r\n                // TODO: implement some?\r\n                default:\r\n                    layout = [\r\n                        { component: IroWheel },\r\n                        { component: IroSlider } ];\r\n            }\r\n            // add transparency slider to the layout\r\n            if (state.transparency) {\r\n                layout.push({\r\n                    component: IroSlider,\r\n                    options: {\r\n                        sliderType: 'alpha'\r\n                    }\r\n                });\r\n            }\r\n        }\r\n        return (h(\"div\", { class: \"IroColorPicker\", id: state.id, style: {\r\n                display: state.display\r\n            } }, layout.map(function (ref, componentIndex) {\n                var UiComponent = ref.component;\n                var options = ref.options;\n\n                return (h(UiComponent, Object.assign({}, state, options, { ref: undefined, onInput: this$1.emitInputEvent.bind(this$1), parent: this$1, index: componentIndex })));\n        })));\r\n    };\n\n    return IroColorPicker;\n}(m));\r\nIroColorPicker.defaultProps = Object.assign({}, iroColorPickerOptionDefaults,\r\n    {colors: [],\r\n    display: 'block',\r\n    id: null,\r\n    layout: 'default',\r\n    margin: null});\r\nvar IroColorPickerWidget = createWidget(IroColorPicker);\n\nvar iro;\r\n(function (iro) {\r\n    iro.version = \"5.1.8\"; // replaced by @rollup/plugin-replace; see rollup.config.js\r\n    iro.Color = IroColor;\r\n    iro.ColorPicker = IroColorPickerWidget;\r\n    var ui;\r\n    (function (ui) {\r\n        ui.h = h;\r\n        ui.ComponentBase = IroComponentBase;\r\n        ui.Handle = IroHandle;\r\n        ui.Slider = IroSlider;\r\n        ui.Wheel = IroWheel;\r\n        ui.Box = IroBox;\r\n    })(ui = iro.ui || (iro.ui = {}));\r\n})(iro || (iro = {}));\r\nvar iro$1 = iro;\n\nexport default iro$1;\n","import iro from \"@jaames/iro\";\nconst colorPicker = new iro.ColorPicker(\"#picker\", {\n  width: 320,\n  color: \"#f00\",\n});\ncolorPicker.on(\"color:change\", function (color) {\n  console.log(\"hgoe\");\n  document\n    .getElementById(\"root\")\n    .setAttribute(\"style\", `background-color: ${color.hexString}`);\n});\n"]}